---
description: "\b멤버 클래스는 되도록 static으로 만들라"
---

# Item 24

중첩 클래스란, 다른 클래스 안에 정의된 클래스이다.

그리고 이는 중첩 클래스를 감싼 바깥 클래스에서만 사용해야한다. 그 이상의 쓰임새가 있다면 톱 레벨 클래스로 구현하자.

중첩 클래스의 종류는 정적 멤버 클래스, (비정적)멤버 클래스, 익명 클래스, 지역 클래스 4가지이며, 첫번째를 제외하고는 내부 클래스라고 불린다.

### 정적 멤버 클래스

다른 클래스 안에 선언되고, 바깥 클래스의 private 멤버에 접근할 수 있다.

그리고 이 클래스를 private으로 선언하면 바깥 클래스에서만 사용할 수 있다.

### 비정적 멤버 클래스

비정적 멤버 클래스와 정적 멤버 클래스의  차이는, 정적 멤버 클래스에 static이 추가되었을 뿐이지만 의미는 꽤 다르다.

비정적 멤버 클래스에서는 바깥 클래스와 암묵적으로 연결된다.

즉, 정규화된 this를 사용해서 바깥 클래스의 메서드나 참조를 가져올 수 있다.

{% hint style="info" %}
정규화된 this란? **클래스명.this** 형태로 바깥 클래스의 이름을 명시하는 용법이다.
{% endhint %}

그리고 비정적 멤버 클래스는 바깥 클래스의 인스턴스 없이는 생성할 수 없다.

**그렇기 때문에 멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들자.**

숨은 외부 참조란, 참조를 저장하는데 시간과 공간이 소비되며, 심할 경우 바깥 클래스를 GC가 수거하지 못해 메모리 누수가 발생하는 경우도 있다.

private 정적 클래스는 보통 바깥 클래스의 한 부분을 객체로써 나타낼 때 사용된다.

예를 들어 Key-Value 쌍을 다루는 Map의 경우 Entry 객체를 가지고 있다.

그리고 Entry 객체들의 메서드는 맵을 사용하지 않는다.

비정형으로 Entry를 선언해도 문제는 없겠지만 마찬가지로 참조와 메모리 낭비가 발생할 수 있다.

### 익명 클래스

익명 클래스는 바깥 클래스의 멤버가 아니며 쓰이는 시점에 선언과 동시에 인스턴스가 생성된다.

그리고 이는 오직 비정적인 문맥에서만 바깥 클래스의 인스턴스를 참조할 수 있다.



